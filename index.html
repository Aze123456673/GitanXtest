<html lang="fr">
<head>
<meta charset="UTF-8" />
<title>D√©obfuscateur Lua - Lune Inspired Edition 2026</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<style>
body { font-family: 'Segoe UI', sans-serif; background: #0d001a; color: #d0c0ff; margin:0; padding:20px; background: linear-gradient(135deg, #0d001a, #1a0033); }
h1 { color: #bb66ff; text-align:center; }
textarea { width:100%; max-width:1000px; height:280px; margin:16px auto; display:block; background:#111122; color:#e0d0ff; border:1px solid #553366; border-radius:8px; padding:16px; font-family:monospace; font-size:14px; }
button { display:block; margin:20px auto; padding:14px 40px; font-size:1.2rem; background:#7f00ff; color:white; border:none; border-radius:6px; cursor:pointer; transition:0.3s; }
button:hover { background:#9f40ff; transform:scale(1.05); }
#result { width:100%; max-width:1000px; margin:20px auto; background:#0a0011; border:1px solid #442266; border-radius:8px; padding:18px; white-space:pre-wrap; font-family:monospace; min-height:180px; color:#b0ffb0; }
.mode-select { text-align:center; margin:16px; }
select { padding:8px 16px; font-size:1rem; background:#222244; color:#fff; border:1px solid #664488; border-radius:4px; }
.info { text-align:center; color:#aa88ff; font-size:0.95rem; margin:12px 0; }
</style>
</head>
<body>
<div style="max-width:1100px;margin:auto;">
<h1>D√©obfuscateur Lua (Lune Inspired + WeAreDevs/Street 2026)</h1>
<div class="info">Inspir√© par Lune runtime pour une meilleure compatibilit√© Luau. Colle ton code obfusqu√©, choisis un mode, et d√©obfusque !</div>
  
    Mode : 
    <select id="mode">
      <option value="general">G√©n√©ral (basique + Lune style)</option>
      <option value="wearedevs" selected>WeAreDevs v1.x (avanc√©)</option>
      <option value="street">Street Obfu (XOR + shift)</option>
    </select>
  
  <textarea id="input" placeholder="Colle ton code Lua obfusqu√© ici... (WeAreDevs, Street ou autre)"></textarea>
<button onclick="deobfuscate()">D√âOBFUSQUER MAINTENANT üî•</button>
  R√©sultat ici... (essaie diff√©rents modes pour mieux d√©obfusquer)

<script>
// Patterns g√©n√©raux (am√©lior√©s avec inspiration Lune pour Luau compat)
const generalPatterns = [
  { regex: /loadstring\s*$$   /g, replace: 'load(' }, // Lune uses load
  { regex: /\\x([0-9a-fA-F]{2})/g, replace: (_, h) => String.fromCharCode(parseInt(h,16)) },
  { regex: /\\([0-7]{1,3})/g, replace: (_, o) => String.fromCharCode(parseInt(o,8)) },
  // gsub chain (typique obfu)
  { regex: /\b_\s*=\s*([^:]+?)\s*:\s*gsub\s*\(\s*"([^"]+)"\s*,\s*"([^"]*)"\s*   $$/g,
    replace: (m, s, p, r) => s.replace(new RegExp(p.replace(/[.*+?^${}()|[\]\\]/g,'\\$&'),'g'), r) }
];
// Patterns WeAreDevs v1.x (strings octal + mapping + decode loop)
const wearedevsPatterns = [
// D√©code octal robuste (g√®re \123 ou 123 m√©lang√©s)
{ regex: /"((?:\?\d{1,3})+)"/g,
replace: (match, content) => {
let result = '';
let i = 0;
while (i < content.length) {
if (content[i] === '\' && /\d/.test(content[i + 1])) {
let num = '';
i++;
while (i < content.length && /\d/.test(content[i]) && num.length < 3) {
num += content[i++];
}
result += String.fromCharCode(parseInt(num, 8));
} else if (/\d/.test(content[i])) {
let num = '';
while (i < content.length && /\d/.test(content[i]) && num.length < 3) {
num += content[i++];
}
result += String.fromCharCode(parseInt(num, 8));
} else {
result += content[i++];
}
}
return "${result.replace(/"/g, '\\"').replace(/\n/g, '\\n')}";
}
},
// Supprime mapping o = {...}
{ regex: /local\s+o\s*=\s*{[^}]+}/g, replace: '// Mapping table supprim√©e (WeAreDevs junk)' },
// Supprime decode loop
{ regex: /for\s+[a-zA-Z_]\s*=\s*[^,]+,\s*#[^,]+,\s*[^)]+\sdo[\s\S]?end/g, replace: '// Decode loop supprim√©e (strings d√©cod√©es)' }
];
// Patterns Street (XOR + bit shift, inspir√© Lune pour safe exec)
const streetPatterns = [
// D√©tecte et simplifie XOR simple
{ regex: /bit32.bxor\s*$  \s*([^,]+)\s*,\s*([^)]+)\s*  $/g, replace: '// XOR d√©tect√© : $1 ^ $2 (Lune style)' },
// Shift left/right
{ regex: /bit32.(lshift|rshift)\s*$  \s*([^,]+)\s*,\s*([^)]+)\s*  $/g, replace: '// Shift : $2 ' + ($1 === 'lshift' ? '<<' : '>>') + ' $3' },
// Supprime junk arithm√©tique basique
{ regex: /math.random\s*$  \s*  $/g, replace: '0.5 // junk random supprim√©' }
];
function deobfuscate() {
const input = document.getElementById('input').value.trim();
const mode = document.getElementById('mode').value;
const resultDiv = document.getElementById('result');
if (!input) {
resultDiv.innerHTML = "Colle du code bg üòè";
resultDiv.style.color = "#ff9999";
return;
}
let code = input;
// Applique toujours g√©n√©ral (Lune inspired pour clean Luau)
for (const p of generalPatterns) {
code = code.replace(p.regex, typeof p.replace === 'function' ? p.replace : p.replace);
}
// Mode sp√©cifique
if (mode === "wearedevs") {
for (const p of wearedevsPatterns) {
code = code.replace(p.regex, typeof p.replace === 'function' ? p.replace : p.replace);
}
// Extra d√©code pour tables strings enti√®res
code = code.replace(/b\s*=\s*{([^}]+)}/g, (m, tbl) => {
let decoded = tbl.split(',').map(s => wearedevsPatterns[0].replace(s, s)).join(',');
return b = {${decoded}} // d√©cod√© Lune style;
});
} else if (mode === "street") {
for (const p of streetPatterns) {
code = code.replace(p.regex, typeof p.replace === 'function' ? p.replace : p.replace);
}
}
// Nettoyage final (indentation am√©lior√©e, Lune clean)
code = code
.replace(/\s{2,}/g, ' ')
.replace(/;\s*/g, ';\n')
.replace(/end\s*/g, '\nend\n')
.replace(/then\s*/g, '\nthen\n')
.replace(/else\s*/g, '\nelse\n')
.replace(/$  \s+/g, '(')
    .replace(/\s+  $/g, ')')
.trim();
resultDiv.innerHTML = code || "(Peu r√©cup√©r√©... change de mode ou script)";
resultDiv.style.color = code.length > 100 ? "#b0ffb0" : "#ffaa99";
}
</script>
</body>
</html>
